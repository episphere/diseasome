<head>
    <meta charset="UTF-8">
    <title>riskome</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <!-- bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- font awesome -->
    <script src="https://kit.fontawesome.com/31149d48b0.js" crossorigin="anonymous"></script>
</head>


<!-- top banner -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark ">
    <div id="mySidepanel" class="sidepanel">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
        <a class="nav-link" href="#calculator">Calculator</a>
        <a class="nav-link" href="#notices">Notices</a>
    </div>

    <div class="navbar-header">
        <button class=" btn btn-dark" onclick="openNav()">☰ </button>
        <script>
            function openNav() {
                document.getElementById("mySidepanel").style.width = "250px";
            }

            function closeNav() {
                document.getElementById("mySidepanel").style.width = "0";
            }
        </script>
    </div>
    <div>

        <ul class="nav navbar-nav navbar-right">
            <li class="nav-item active">
                <a class="nav-link" target="_blank" href="https://github.com/lorenasandoval88/riskome">Github
                    Code</a>
            </li>
            <li class="nav-item active"><a class="nav-link" target="_blank"
                    href="https://observablehq.com/@lorenasandoval88/riskome" target="_blank">Notebook</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" target="_blank" href="https://gitter.im/episphere/PRS">Discussion</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" target="_blank" href="https://youtu.be/YXJjEZxHJhM">
                    <img style="vertical-align:top" src="youtube_img.png" width="25" height="25"></img> Tutorial</a>
            </li>
        </ul>



    </div>
</nav>

<!-- side panel -->

<body>

    <!-- main banner -->
    <section class="bgimage" id="home">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 hero-text">
                    <h2 class="hero_title">Riskome</h2>
                    <p class="hero_desc">Individual polygenic risk score<br> calculation (<a
                            href="https://www.nature.com/articles/nrg.2016.27" target="_blank">PRS</a>) for 23andme
                        reports, using the <a href='https://www.pgscatalog.org' target="_blank">PGS Catalog</a>.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- calc section-->
    <section id="calculator">
        <span style="font-size:large;">Polygenic Risk Score Calculator:</span><br><br>
        <div id="calcDiv">
            <script>
                (async () => {
                    pgs23 = await import('http://127.0.0.1:5500/export.js')
                    //pgs23 = await import(location.href+'/export.js')
                    //pgs23 = await import('https://lorenasandoval88.github.io/diseasomes/export.js')
                    pgs23.ui()
                })()
            </script>
        </div>
    </section>

  


    <!-- load javascript after loading all html content -->
    <script>
        (async ()=>{
            //pgs23 = await import('http://127.0.0.1:5500/export.js')
            pgs23 = await import('https://episphere.github.io/riskome/export.js')
            pgs23.ui()
        })() 
    </script>
    
    
    <script src="pgs.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js"></script>
    <script src="export.js"></script>


      <!-- privacy section-->
      <section id="notices">
        <span style="font-size:large;">Privacy:</span><br>
        <span style="font-size:small;color:black;font-weight:normal">
            All data and calculations take place in the browser. No data or calculations circulate by a server. This
            application is, foremost, an exercise in privacy-preserving biomedical informatics for consumer genomics
            data.
        </span><br>
        <span style="font-size:large;">Scope/Limitations:</span><br>
        <span style="font-size:small;color:black;font-weight:normal">
            This calculator was devised as an implementation proof of concept. It has a number of important limitations
            for epidemiology research and it does not meet criteria for clinical use. The current tool uses
            pre-imputation genotype data and thus results in a low number of SNP matches. Most important, only the
            relative risk model <a href='https://www.nature.com/articles/nrg.2016.27#Sec5' target="_blank">(Box 1, eq
                2)</a> is calculated, with no effort to determine absolute risk of disease. Finally, the risk
            calculation will only be attempted for PGS catalog entries reporting effects as beta values under
            "effect_weight".</span>
    </section>


</body>